<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="twitter:widgets:theme" content="light">
  <meta name="twitter:widgets:link-color" content="#555fff">
  <meta name="twitter:widgets:border-color" content="#22eeff">
  <meta name="twitter:widgets:height" content="220px">

  <title>Aircompare - Results</title>

  <!-- Font Awesome Icons -->
  <link href="/static/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic'
    rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Damion|Julius+Sans+One|Michroma|Quicksand&display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css?family=Faster+One|Montserrat+Subrayada|Righteous|Rock+Salt|Sriracha&display=swap"
    rel="stylesheet">
  <!-- Plugin CSS -->
  <link href="/static/vendor/magnific-popup/magnific-popup.css" rel="stylesheet">
  <!-- FlexDatalist -->
  <link href="static/jquery.flexdatalist.min.css" rel="stylesheet" type="text/css">
  <link href="static/jquery.flexdatalist.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
  <!-- Theme CSS - Includes Bootstrap -->
  <link href="/static/css/creative.css" rel="stylesheet">

  <link rel="apple-touch-icon" sizes="180x180" href="/static/img/ico/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/static/img/ico/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/img/ico/favicon-16x16.png">
  <link rel="manifest" href="/static/img/ico/site.webmanifest">
  <link rel="stylesheet" href="/static/css/awesomplete.css" />
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://d3js.org/d3.v4.min.js" type="text/javascript"></script>
  <link rel="stylesheet" href="//nico-amsterdam.github.io/awesomplete-util/css/awesomplete.css">
  <script src="//nico-amsterdam.github.io/awesomplete-util/js/awesomplete.min.js"></script>
  <script src="//nico-amsterdam.github.io/awesomplete-util/js/awesomplete-util.min.js"></script>
  <style>
    .style_prevu_kit {
      display: inline-block;
      border: 0;
      width: 100px;
      height: 200px;
      position: relative;
      -webkit-transition: all 200ms ease-in;
      -webkit-transform: scale(1);
      -ms-transition: all 200ms ease-in;
      -ms-transform: scale(1);
      -moz-transition: all 200ms ease-in;
      -moz-transform: scale(1);
      transition: all 200ms ease-in;
      transform: scale(1);

    }

    .style_prevu_kit:hover {
      box-shadow: 0px 0px 150px #000000;
      z-index: 2;
      -webkit-transition: all 200ms ease-in;
      -webkit-transform: scale(1.5);
      -ms-transition: all 200ms ease-in;
      -ms-transform: scale(1.5);
      -moz-transition: all 200ms ease-in;
      -moz-transform: scale(1.5);
      transition: all 200ms ease-in;
      transform: scale(1.5);
    }

    /* DEMO-SPECIFIC STYLES */
    .typewriter h1 {
      color: #333;
      font-family: monospace;
      overflow: hidden;
      /* Ensures the content is not revealed until the animation */
      border-right: .10em solid orange;
      /* The typwriter cursor */
      white-space: nowrap;
      /* Keeps the content on a single line */
      margin: 0 auto;
      /* Gives that scrolling effect as the typing happens */
      letter-spacing: 0.2em;
      /* Adjust as needed */
      animation:
        typing 3.0s steps(30, end),
        blink-caret .5s step-end infinite;
    }

    /* The typing effect */
    @keyframes typing {
      from {
        width: 0
      }

      to {
        width: 80%
      }
    }

    /* The typewriter cursor effect */
    @keyframes blink-caret {

      from,
      to {
        border-color: transparent
      }

      50% {
        border-color: blue
      }
    }

    div.awesomplete {
      display: initial
    }

    div.awesomplete ul li p {
      display: block;
      font-size: 10px;
      margin-left: 0.5em;
      font-family: 'Julius Sans One', sans-serif;
    }

    div.awesomplete .awe-found {
      border: 2px solid green
    }

    .hide-not-found div.awesomplete .awe-not-found {
      border-color: lightblue
    }

    div.awesomplete .awe-not-found {
      border: 2px solid red
    }

    .awesomplete mark {
      background: #8a8a8a;
    }
  </style>
</head>

<body id="page-top">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="/index">Aircompare</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
        data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">

        </ul>
      </div>
    </div>
  </nav>



  <!-- Masthead -->
  <header class="masthead" style="background-color: #3c3c3c !important; background: none;">
    <div class="container h-100">

      <div class="row h-100 align-items-center justify-content-center text-center">
        <div class="col-lg-3 " style="background-color: white; border-radius: 3%; width: 50px;">
          <i class="fas fa-cogs" style="font-size: 5rem !important;padding-top: 0.5rem;"></i>
          <p>Accuracy of models</p>
          <p>80%</p>
        </div>
        <div class="col-lg-6 align-self-baseline">
          <div class="wrapper fadeInDown">
            <div class="fadeIn first p-5">
              <img src="/static/img/Twitter_Logo_Blue.png" style="width: 90px;">
              <a class="navbar-brand js-scroll-trigger"
                style="color: white;font-family: 'Julius Sans One', sans-serif;">Tweets Stream</a>
            </div>


            {% for line in code %}
            <span class="mySlides" style="height: 350px !important; width: 500px !important;">{{ line }} </span>
            {% endfor %}

          </div>
        </div>
        <div class="col-lg-3 justify-content-center" style="background-color: white; border-radius: 3%;width: 50px;">
          <i class="fas fa-check" style="font-size: 5rem !important;color: green;"></i>
          <p>Database : connected !</p>
          <p>{{ nb_tw }} Tweets collected</p>
        </div>
      </div>
    </div>
  </header>

  <!-- About Section -->
  <section class="page-section">
    <div class="container h-100">
      <div class="row h-100 ">




        {% for airline in wik %}

        <div class="col style_prevu_kit "
          style="background-color:#a4a4a4; border-radius: 3%;margin: 30px;overflow: hidden; text-align: justify;">
          <div class="justify-content-center p-2" style="text-align: center;"><img src="{{ airline['image'] }}" alt=""
              style="width: 90px; "> </div>



          <p class="p-3">{{ airline['summary'] }}</p>
        </div>

        {% endfor %}



      </div>


      <div class="wrapper fadeInDown">
        <div class="fadeIn first p-5 ">
          <img src="/static/img/plane.png" style="width: 60px;">
          <a class="navbar-brand js-scroll-trigger" style="color: #333;font-family: 'Julius Sans One', sans-serif;">the
            best airline based on our algorithms is </a>
        </div>


        <h2 style="font-size: 3rem;">{{ best }}</h2>
      </div>


    </div>
    <div class="container p-5">
      <div class="row justify-content-center">
        <div class="col-lg-6 text-center">

          <div id='myDiv' class="p-3">


          </div>
        </div>
        <div class="col-lg-6 text-center">

          <div id="aspect" class="p-3">


          </div>
        </div>



      </div>

    </div>
    <div class="container text-center">
      <p>Only the tweets with exact geo-location are considered in this map .</p>
    </div>
    <div class="row justify-content-center">
      <div class="col-lg-8 text-center">


        <div id="tester" class="p-3">


        </div>

      </div>




    </div>

    </div>
    </div>
  </section>



  <!-- Call to Action Section -->


  <!-- Contact Section -->


  <!-- Footer -->




  <footer class="footer-distributed">

    <div class="footer-left">

      <a class="navbar-brand js-scroll-trigger" style="color: white;" href="#page-top">Aircompare</a>



      <p class="footer-company-name">Aircompare &copy; 2020</p>
    </div>

    <div class="footer-center">

      <div>
        <i class="fas fa-map-marker-alt"></i>
        <p><span></span> MOROCCO MARRAKESH </p>
      </div>

      <div>
        <i class="fas fa-phone"></i>
        <p>+212 610-646228</p>
      </div>

      <div>
        <i class="fas fa-envelope"></i>
        <p><a href="mailto:support@company.com">support@aircompare.com</a></p>
      </div>

    </div>

    <div class="footer-right">

      <p class="footer-company-about">
        <span>About the project</span>
        Aircompare provides comparison of airlines, and insights to help you plan your next trip.
      </p>

      <div class="footer-icons">

        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-linkedin"></i></a>
        <a href="#"><i class="fab fa-github"></i></a>

      </div>

    </div>

  </footer>



  <!-- Bootstrap core JavaScript -->
  <script src="/static/vendor/jquery/jquery.min.js"></script>
  <script src="/static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="/static/vendor/jquery-easing/jquery.easing.min.js"></script>
  <script src="/static/vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

  <!-- Custom scripts for this template -->
  <script src="/static/js/creative.js"></script>

  <script src="/static/js/awesomplete.js" async></script>
  
  <script>
    function adv_ser() {
      var test = document.getElementById("m1");
      var btnText = document.getElementById("advnc_btn");

      if (m1.style.display === "none") {
        m1.style.display = "inline";
        m2.style.display = "inline";
        m3.style.display = "inline";
        m4.style.display = "inline";
        m5.style.display = "inline";
        btnText.innerHTML = "Less options";
      } else {
        m1.style.display = "none";
        m2.style.display = "none";
        m3.style.display = "none";
        m4.style.display = "none";
        m5.style.display = "none";
        btnText.innerHTML = "More options";
        moreText.style.display = "inline";
      }
    }



    AwesompleteUtil.start('#air-name',
      {
        convertInput: function (input) { return input.replace(/[,;]\s*$/, '').match(/[^,;]*$/)[0].trim().toLowerCase(); }
      },
      {
        minChars: 2,
        replace: function (data) {
          var text = data.value;
          this.input.value = this.input.value.match(/^.+[,;]\s*|/)[0] + text + ', ';
        },
        filter: function (data, input) {
          return Awesomplete.FILTER_CONTAINS(data, input.match(/[^,;]*([,;]\s*)?$/)[0]);
        },
        item: function (text, input) {
          return AwesompleteUtil.itemContains(text, input.match(/[^,;]*([,;]\s*)?$/)[0]);
        }
      }
    );

  </script>

  <script>
    //draw the left plot
    var lab = {{ dt | tojson }};
    var par = {{ ff | tojson }};
    var val = {{ values | tojson}};
  

    var data = [{
      type: "sunburst",
      labels: lab,
      parents: par,
      values: val,
      outsidetextfont: { size: 20, color: "#377eb8" },
      leaf: { opacity: 0.4 },
      marker: { line: { width: 2 } }
    }];

    var layout = {
      margin: { l: 0, r: 0, b: 0, t: 5 },
      width: 500,
      height: 500,
      font: {
    family: 'Gill Sans',
    size: 13,
    color: '#7f7f7f'
  }
    };


    Plotly.newPlot('myDiv', data, layout);
  </script>
  <script>
    //slide
    var myIndex = 0;
    carousel();

    function carousel() {
      var i;
      var x = document.getElementsByClassName("mySlides");
      for (i = 0; i < x.length; i++) {
        x[i].style.display = "none";
      }
      myIndex++;
      if (myIndex > x.length) { myIndex = 1 }
      x[myIndex - 1].style.display = "block";
      setTimeout(carousel, 4000); // Change image every 4 seconds
    }


  </script>

<script>
  //draw the right plot (radar)
  var airl = {{ air | tojson }};
  var visul = {{ vis | tojson  }};
    data = [];
    
    for (airline in airl ){
    kiki = {};
      kiki['type'] = 'scatterpolar';
      kiki['r']=  visul[airline];
      kiki['theta'] = ['Ground Service','Inflight Entertainement','Legroom', 'Value For Money', 'Food & Beverage', 'Cabin Staff Service'];
      kiki['fill'] = 'toself';
      kiki['name'] = airl[airline] ;
    
    data.push(kiki);
   }

   layout = {
   width:600,
   height:500,
  polar: {
    radialaxis: {
      visible: true,
      range: [0, 120]
    }
  },font: {
    family: 'Gill Sans',
    size: 13,
    color: '#7f7f7f'
  }
 }

Plotly.newPlot("aspect", data, layout)
</script>
<script>
  //draw the map
  Plotly.d3.csv(
"/mapl", function(err, rows) {
   function unpack(rows, key) {
     return rows.map(function(row) {
       return row[key];
     });
   }

   var data = [
     {
       type: "scattermapbox",
       lon: unpack(rows, 1),
       lat: unpack(rows, 0),
       mode:'markers',
               marker: {
                size:8
               },
     }
   ];

   var layout = {
     width:1200,
     height : 600,
     dragmode: "zoom",
     mapbox: { 
       style: "light",
      zoom: 0 },
     margin: { r: 0, t: 0, b: 0, l: 0 },
     
       };
       

       Plotly.setPlotConfig({
           mapboxAccessToken: "pk.eyJ1Ijoic292aXgiLCJhIjoiY2s3OW42Y2k4MGJ1MDNmcnozdTF2dXNncCJ9.hYCCPqJ3qkBgj7Y8MCo8_w"
           })

   Plotly.newPlot("tester", data, layout);
 }
);


</script>

</html>